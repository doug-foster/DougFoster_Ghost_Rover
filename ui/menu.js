/**
 * *************************************
 *      Ghost Rover 3 - UI JS.
 * *************************************
 * 
 * menu.js
 *
 * @author   D. Foster <doug@dougfoster.me>.
 * @since    3.0.7 [2025-11-10-12:30pm].
 * @link     http://dougfoster.me.
*/

/**
 * ============================================================================
 *                                Global vars.
 * ============================================================================
 *
 * @since    3.0.7 [2025-11-10-12:30pm].
 */

// --- Buttons. ---
const btnRestart = document.querySelector('#menu-items #restart');

/**
 * ============================================================================
 *                                Functions.
 * ============================================================================
 *
 * @since 3.0.7 [2025-11-10-12:30pm].
 */

/**
 * ------------------------------------------------
 *      WebSocket - MCU restart.
 * ------------------------------------------------
 *
 * @return void  No output is returned.
 * @since  3.0.7 [2025-11-10-12:30pm].
 */
function mcuRestart() {

    // --- Ready handshake with server. ---
    let message = '{"mcu":"restart"}';
    websocket.send(message);
    setTimeout(function() { console.log('browser --> server ' + message) }, 1000);
}

/**
 * ============================================================================
 *                             Event listeners.
 * ============================================================================
 *
 * @since 3.0.7 [2025-11-10-12:30pm].
 */

/**
 * ------------------------------------------------
 *      General.
 * ------------------------------------------------
 *
 * @return void  No output is returned.
 * @since  3.0.7 [2025-11-10-12:30pm].
 */

 // --- Page. ---
 document.addEventListener('DOMContentLoaded', () => {
    initWebSocket();
});

// --- Buttons. ---
btnRestart.addEventListener('click', () => {
    mcuRestart();
});

/**
 * ------------------------------------------------
 *      General.
 * ------------------------------------------------
 *
 * @return void  No output is returned.
 * @since  3.0.3 [2025-10-13-02:15pm].
 */

/**
 * ============================================================================
 *                                    Test.
 * ============================================================================
 *
 * @since  3.0.3 [2025-10-16-10:00am].
 */

/**
 * ============================================================================
 *                             Run on page load.
 * ============================================================================
 *
 * @since  3.0.3 [2025-10-16-10:00am].
 */
